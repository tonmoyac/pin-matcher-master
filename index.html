<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pin Generator</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <div class="pin-generator half-width">
                    <input class="form-control all-input" id="generated-pin" type="number">
                    <button class="generate-btn" id="pin-generator-btn">Generate Pin</button>
                </div>
            </div>
            <div class="col-md-6">
                <div class="input-section half-width">
                    <input class="form-control all-input" id="input" maxlength="4" type="number">
                    <div class="numbers">
                        <div class="calc-body">
                            <div class="calc-button-row">
                              <div class="button number">7</div>
                              <div class="button number">8</div>
                              <div class="button number">9</div>
                            </div>
                            <div class="calc-button-row">
                              <div class="button number">4</div>
                              <div class="button number">5</div>
                              <div class="button number">6</div>
                            </div>
                            <div class="calc-button-row">
                              <div class="button number">1</div>
                              <div class="button number">2</div>
                              <div class="button number">3</div>
                            </div>
                            <div class="calc-button-row">
                                <div class="button" id="backspace"><</div>
                                <div class="button number">0</div>
                                <div class="button" id="clear">C</div>
                            </div>
                            <div>
                                <button type="submit" class="submit-btn" id="submit">Submit</button>
                                <p class="action-left"><span id="try">3</span>  try left</p>
                            </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="notify-section" id="notifySection">
            <p class="notify" id="not-match">❌ Pin Didn't Match, Please try again</p>
            <p class="notify" id="match">✅ Pin Matched... Secret door is opening for you</p>
        </div>
    </div>

<script>
    const pinGeneratorBtn = document.getElementById("pin-generator-btn");
        pinGeneratorBtn.addEventListener("click", function(){
            const generatedPin = Math.floor(1000 + Math.random() * 9000);
            document.getElementById("generated-pin").value = generatedPin;

    })

    var num = document.getElementsByClassName("number")
    for(var i =0; i<num.length; i++){
        num[i].addEventListener("click", function(){
            var vv = this.innerText;
            var ccc = parseFloat(vv);
            document.getElementById("input").value += ccc;
            return;
        })
    }


    const clear = document.getElementById("clear");
        clear.addEventListener("click", function(){
          document.getElementById("input").value="";

    })

    const backspace2 = document.getElementById("backspace");
    backspace2.addEventListener("click", function(){
         var back = document.getElementById("input").value;
        var jjjj =back.substr(0,back.length - 1);
         document.getElementById("input").value=jjjj;
        
    })

const submit = document.getElementById("submit");
submit.addEventListener("click", function(){
    var generatedPin = document.getElementById("generated-pin").value;
    var inputedPin = document.getElementById("input").value;

  function pinMatching(displayBlock, displayNone){
        var display1 = document.getElementById(displayBlock);
        display1.style.display= "block"
        var hide = document.getElementById(displayNone);
        hide.style.display= "none";

        }
    // In case of generatedPin & inputPin value is 0 calling this function.
    function notify(notifySection){
        var notify = document.getElementById(notifySection);
        notify.style.display= "none";  
    }

    if(generatedPin === inputedPin){
        pinMatching("match", "not-match");

    }
    if(generatedPin != inputedPin){
        pinMatching("not-match", "match");
    }
     if(generatedPin==""&&inputedPin==""){
        notify("notifySection");
    alert("Please Generate Your Pin First");
     }
     if(inputedPin=="" &&generatedPin!=""){
        notify("notifySection");
     alert("Please Submit Your Generated Pin");
     }
     if(generatedPin=="" &&inputedPin!="" ){
        notify("notifySection");
    alert("Please Generate Your Pin");
     }
})

var count = 3;
var countButton = document.getElementById("submit");
countButton.addEventListener("click",function(){
  count--;
   document.getElementById("try").innerText=count;
  var kabul= countButton.innerHTM;
  kabul = count;
  var kakku = parseFloat(kabul)
  
  if(kakku<1){
    var kk = document.getElementById("submit");
    kk.style.display="none"
  }
  return count;

})

</script>


</body>
</html>